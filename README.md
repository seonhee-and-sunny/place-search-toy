# place-search-toy  

장소 검색 토이 프로젝트  
<br>  

### API 테스트 방법  
프로젝트 실행 후 request-test HTTP request 파일 이용   
<br>

### 구현 사항  
#### 키워드 관련 장소 검색 API  
- 네이버/카카오 검색 API를 사용하여 최대 10개의 키워드 관련 장소 목록 반환  

현재는 카카오/네이버 검색 API만을 연동했지만, 추후 다른 서비스가 추가될 수 있으므로 서비스들을 ProviderType으로 분리하여 정렬 우선순위 변경/서비스별 처리를 고려한다.  
<br>  

#### 검색 키워드 목록 조회 API  
* 최근 10분간 사용자들이 많이 검색한 순서대로 최대 10개의 키워드 목록 반환   

동시성 문제가 발생할 수 있는 키워드별 검색 횟수는 Redis를 이용하여 업데이트 및 조회한다.  
1분마다 10분간의 누적 정보를 갱신하여 저장하는데(만료된 횟수는 차감), 스케쥴링 중간에도 사용자가 검색을 진행할 수 있으므로 조회와 업데이트 키를 분리한다.  
또한 스케쥴링은 분산 환경에서도 매분 한번만 이뤄져야 하므로 redisTemplate.increment를 통해 락을 생성하여 진행한다.  
<br>  

### 사용 기술  
- Java16  
- Spring boot 2.6.8  
- Gradle  
- Redis  
- OpenFeign  
